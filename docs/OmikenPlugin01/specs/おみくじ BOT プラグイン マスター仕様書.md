---
title: 2025-02-11
date: 2025-02-11
tags: [ピンとくるノート]
aliases: []
---

# おみくじ BOT プラグイン マスター仕様書

## 1. システム概要

### 1.1 製品概要

おみくじ BOT プラグインは、配信プラットフォーム「わんコメ」向けの拡張プラグインです。配信者とリスナー間のインタラクションを強化し、コミュニティの活性化と運営効率の向上を実現します。

- **配信のインタラクション向上**
	- リスナーの行動が配信に影響を与える仕組みを作り、参加感を高める。
- **リスナーの行動促進**
	- ライブ配信中に、リスナーがコメントするきっかけを提供する。
- **イベント運営の効率化**
	- 配信中の抽選やミニゲームなどを自動化し、運営の負担を軽減する。
- **ランダム要素の提供**
	- 配信内での「今日の運勢」や「ラッキーアイテム」など、予測できない要素を簡単に決定できるツールとして活用。
- **ミニゲームの創作**
	- JavaScript を用いて、配信に組み込めるオリジナルのミニゲームを開発可能にする。
- 結果の保存・収集・表示
	- ミニゲームの結果を記録し、統計データとして活用したり、視覚的に表示する仕組みを提供する。

### 1.2 想定される使用シーンと対象ユーザー

1. **ライブ配信のエンターテイメント要素として**
    - リスナーのコメント促進：「おみくじ」の結果がコメント欄に投稿され、盛り上がりを創出。
    - 視聴者間の交流促進：結果を共有して視聴者同士で会話を楽しむ。
    - 配信者の演出支援：「ラッキーアイテム」「視聴者の今日の運勢」などを即興で決定。
    - ログインスタンプ風の機能：配信への参加回数に応じて、おみくじ結果やコメントが変化。
2. **Visits 機能による、新しい機能を持つジェネレーター**
    - リスナーのコメントに**Status**を付与し、色の変更や画面内の特定位置に表示可能。
    - 視覚的なフィードバックを提供することで、リスナーの参加意欲を向上。

### 1.2 主要コンポーネント

1. **プラグイン本体**
   - おみくじデータの永続化
   - おみくじ処理システム
   - おみくじ投稿
   - ユーザーデータ・ゲームデータ管理
   - Rest API

2. **アドオン**
   - Javascript によるカスタム機能拡張
   - API 拡張

3. **おみくじメーカー**
   - GUI 設定インターフェース
   - プレビュー機能
   - データ編集ツール

4. わんコメテンプレート フレームワーク
	- おみくじの表示
	- API によるデータの取得

## 2. システム要件

### 2.1 動作環境

- わんコメ 7.1.0 以上
- モダンブラウザ（Chrome 推奨）

### 2.2 依存関係

- OneSDK (@onecomme.com/onesdk v5.2.1)
- Vue 3
- TypeScript 5.4.5

## 3. コンポーネント別仕様書

### 3.1 関連文書

1. [[おみくじ BOT プラグイン 本体 技術仕様書]]
   - コアシステムの実装詳細
   - イベント処理フロー
   - エラーハンドリング

2. [[おみくじBOTプラグイン アドオン集 仕様書]]
   - API 仕様
   - 開発ガイドライン
   - セキュリティ要件

3. [[おみくじ BOT プラグイン　JSON データ仕様書]]
   - データモデル定義
   - バリデーションルール
   - サンプルデータ

4. [[おみくじメーカー 仕様書]]
   - UI/UX 仕様
   - データ編集機能
   - インポート/エクスポート

5. [[わんコメテンプレート フレームワーク 仕様書]]
   - UI/UX 仕様
   - データ編集機能
   - インポート/エクスポート

[前述の内容は同じなので省略...]

## 4. 開発ガイドライン

### 4.1 品質基準

- Visual Studio Code (VS Code) による開発
- TypeScript strict mode 有効
- ESLint と Prettier による自動フォーマット
- プルリクエスト時の自動テスト実行
- コードレビューは任意だが歓迎

### 4.2 コーディング規約

1. 命名規則
   - 変数: キャメルケース
   - 定数: スネークケース大文字
   - クラス: パスカルケース
2. コードスタイル
   - インデント: 1 スペース
   - 行長: 最大 100 文字
   - コメント: 必要最小限

## 5. 保守・運用

### 5.1 バージョン管理

- GitHub での開発管理
- セマンティックバージョニングの採用
  - MAJOR: 後方互換性のない変更
  - MINOR: 後方互換性のある機能追加
  - PATCH: バグ修正
- 変更履歴は `CHANGELOG.md` に記録

### 5.2 コミュニティ貢献

- Issue での機能提案・バグ報告
- プルリクエストの受付
- ドキュメントの改善提案歓迎

### 5.3 サポート

- プラグインに関する質問は BOOTH または twitter で

## 付録

### A. 用語集

- **わんコメ**: 配信プラットフォーム向けコメント管理システム
- **おみくじ**: ランダムな運勢や結果を提供する機能
- **アドオン**: プラグインの機能を拡張するための追加モジュール
- **Visits**: ユーザーデータの永続化機能

### B. 変更履歴

- 初版: 2025 年 2 月 11 日