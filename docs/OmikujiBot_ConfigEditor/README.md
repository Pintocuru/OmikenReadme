# おみくじ BOT コンフィグエディター OmikujiBot ConfigEditor

最終更新日：2025/08/24

配信者のためのコメントアプリ「わんコメ」で使用できる、 ジェネレーター BOT 「おみくじ BOT」のデータを編集できるアプリケーションです。

この内容は、BOOTH で配布している、 下記に同梱している「コンフィグエディター」の readme となります。

## はじめに（Intro）

- [わんコメ](https://onecomme.com/) の機能を前提としたソフトウェアです。
- 本ソフトウェアの利用は自己責任でお願いいたします。
- 仕様は予告なく変更される場合があります。

## このアプリは何？

### おみくじ BOT を少しだけ自分好みに設定できる専用エディター

【おみくじ BOT コンフィグエディター OmikujiBot ConfigEditor】は、[おみくじ BOT](../OmikujiBot/README.md) 専用のエディターです。おみくじの内容や演出を、直感的にカスタマイズできます。

1. **おみくじの確率や制限が自由に行える**
	- おみくじの内容や、演出のタイミングを自由に変更可能
	- 出現確率も 0.01% 単位で表示可能、パチスロのような 1/65536 にも
	- 発動条件を自由に設定（例：「メンバー限定」「ギフトしたユーザーのみ」）
	- 引ける回数を制限（例：1 日 1 回、連投制限）
2. **多彩なおみくじ結果をサポートする「プレースホルダー」機能**
	- 抽選の重さを使った簡易設定から、プレースホルダー機能を使った高度なおみくじまで対応
	- 最大 1000 通り以上の結果を持つおみくじも簡単に作成
	- プレースホルダー設定の「テキストモード」で、大量データ（約 1000 行）も楽に入力
3. **シンプルにも賑やかにもできるキャラクター関連**
	- フキダシ色やアニメーションの変更、エディター内で動作確認
	- カラーテンプレートも用意してます
	- キャラクター画像の指定（自作画像の使用も可能）
	- キャラクターごとに読み上げを変えられる、補助機能
4. **管理のしやすいおみくじ**
	- おみくじの抽選テストや演出確認機能
	- カラー分類でおみくじを整理管理
5. **便利機能・PRO 版限定**
	- WordParty のポン出し機能
	- PRO 版では「テンプレート出力」が可能（特定条件で配布も可能）

## インストール・アップグレード

- **同梱物**：ConfigEditor はおみくじ BOT 本体と常に同梱されています。
- **機能差**：配布パッケージによっては、ConfigEditor 内の機能が制限され、説明通りの項目や設定が存在しない場合があります。
- **紛失時**：見つからない場合は、誤って削除した可能性があるため再インストールしてください。
- **データ保存先**：おみくじデータは `omikujiData.js` に格納。バックアップはこのファイルをコピーしてください。
- **アップグレード手順**：
    1. `omikujiData.js` を別場所へコピー
    2. 新バージョンをインストール
    3. バックアップしたファイルを上書き保存
- **注意**：アップグレード後、一部設定がデフォルトに戻る場合があります。

## つかいかた

おみくじデータに関する設定方法は、それぞれエディターに詳細が書かれています。

![](images/Pasted%20image%2020250815065339.png)

### 設定の保存方法

仕様上、コンフィグエディターは途中の保存が行えません。閉じたりリロードすると内容が消えてしまうため、保存は注意深く行ってください。

**内容の反映のさせ方**

1. 「設定を出力 (js)」ボタンを押すと、ブラウザから「omikujiData.js」というファイルが保存されます。
2. コンフィグエディターと同じフォルダに、ダウンロードした「omikujiData.js」を上書き保存します。

### テンプレート出力 (json) :wip

Json データとして保存が可能になります。バックアップの際にお使いください。再配布はご遠慮ください。詳細は書きたいな。

### テンプレート読み込み (json) :wip

有料版の Json ファイルをお持ちの場合、ここから読み込みます。

ファイルを読み込むと、それぞれどのデータを読み込むかを選択できます。

- すべて追加：新しいデータを、現在のデータに追加します。
- データを上書き：現在のデータをすべて消去し、新しいデータに置き換えます。
- 個別に設定：任意の項目に対し、追加・上書きを選択します。

## よくある質問

### エディター関連

#### Q. このエディターで何が編集できる？

A. [おみくじ BOT](../OmikujiBot/README.md) で表示させるおみくじ結果を編集できます。

#### Q. 元に戻す（Undo）はできる？

A. Undo 機能は付いていません。こまめに保存していただくようお願いします。

#### Q. 作成したデータを他の人と共有できますか？

A. 配布データをそのまま再配布することは禁止です。内容を編集し、配布データにない要素を付与した json データについては、元のデータが有料版であっても配布して構いません。

#### Q. おみくじ BOT 用 WordParty を編集したい

#### Q. 最新のバージョンより古いデータで作成したファイルは読めますか？

## トラブルシューティング

### Q. データがあるのに一致するルールが見つかりませんでした。と出る

フィルターがかかっている際に他のカテゴリへ移動すると、フィルター条件がかかっている状態で表示するため、「データが見つからない」と表示されるケースがあります。フィルターの「すべてを表示」を押すと直ります。

## バージョン情報

### v0.8.0 Beta.08 25/08/24

- ルール・プレースホルダー・キャラクター タブの機能変更・不具合修正
	- カラー設定を 24 種にして、代わりにカスタムカラーを廃止
	- 「チェックする順番」を明記化。おみくじは番号が小さい順にチェックを行い、適用されるとそれ以降のおみくじはチェックされません。
- 文字・アニメーション機能拡充による、設定の追加
	- 文字の大きさの確認、フキダシの横幅も設定できるようになりました
	- クリック・右クリックで動作確認ができます。
- ライセンスキーの実装
	- PRO 版は、テンプレート読み込み、テンプレート出力機能が追加されます。
	- Beta 版では標準で PRO 版になってます。
- エディターの「エディターテーマ」実装とカラーリング修正
	- DaisyUi を使い、エディターテーマを dark 以外のすべてのテーマを利用できます。
	- それに伴い、カラーリングの修正を行いました

### v0.8.0 Beta.07 25/08/20

- コメントルールの「おみくじ制限設定」機能拡充
	- 固定コメントのみだったものが、任意にトースト表示できるように
	- また制限に引っかかった際に「何もしない」も選べるように。
	- 「回数制限」の「制限超過時の動作」で「最後の結果を表示」にすると、なんと同じ結果が表示されます。1 日 1 回の占いで効果を発揮するでしょう。
- レイアウトを調整
- 内部データの改善
	- 見た目はあまり変わってませんが、中身はけっこう変わってます
- 内部データが一部変わっているため、v0.8.0 Beta.06 からのバージョンアップ時に一部データが変更される可能性があります。バックアップをお願いします。
	- 内部データの変更はもうしばらく続きます

### v0.8.0 Beta.06 25/08/15

- 「[おみくじ BOT](../OmikujiBot/README.md)」の Readme を、コンフィグエディター向けに分離しました。
- キャラクター＞カラー設定 で、「カラーシャッフル」機能を追加。ボタンをポチポチすると、ランダムでテンプレートカラーが出てきます。
- カスタム Tailwind クラスを搭載。グラデーション背景、ボーダー、影などを追加できます。
- 内部データの改善

---

作成者：せすじピンとしてます @pintocuru

[Twitter](https://twitter.com/pintocuru) | [YouTube](https://www.youtube.com/@pintocuru)